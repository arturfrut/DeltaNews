---
// src/components/HomePage.astro
import ListPosts from '@/components/ListPosts'
import TitlePage from '@/components/TitlePage'
import BaseLayout from '@/layouts/BaseLayout'

const { posts, pageNumber, totalPages } = Astro.props;
---

<BaseLayout title='Home'>
  <TitlePage title='Finance Go' />

  <div>
    <h2 class="text-lg font-medium tracking-wide text-end">Latest Posts</h2>
    <ListPosts FirstBig={true} posts={posts} />
  </div>

  <div class="flex justify-between mt-8">
    {pageNumber > 1 && (
      <a href={`/${parseInt(pageNumber) - 1}`} class="text-blue-500 hover:underline">
        &lt;--- Anterior
      </a>
    )}
    {pageNumber < totalPages && (
      <a href={`/${parseInt(pageNumber) + 1}`} class="text-blue-500 hover:underline ml-auto">
        Siguiente ---&gt;
      </a>
    )}
  </div>
</BaseLayout>

<script>
  import { animate } from 'motion'
  const showAnimations = localStorage.getItem('animations') === 'true'

  if (showAnimations) {
    animate(
      '.title',
      { y: [80, 0], opacity: [0, 1] },
      {
        duration: 2.5,
        opacity: { duration: 3 },
        offset: [0, 0.55, 0.75]
      }
    )
  }
</script>